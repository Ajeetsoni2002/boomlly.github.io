! function(t, e) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.retinajs = e()
}(this, function() {
    "use strict";

    function t(t) {
        return Array.prototype.slice.call(t)
    }

    function e(t, e) {
        var i = t.nodeName.toLowerCase(),
            r = document.createElement("img");
        r.addEventListener("load", function() {
            var r;
            "img" === i ? ((r = t).hasAttribute("data-no-resize") || (0 === r.offsetWidth && 0 === r.offsetHeight ? (r.setAttribute("width", r.naturalWidth), r.setAttribute("height", r.naturalHeight)) : (r.setAttribute("width", r.offsetWidth), r.setAttribute("height", r.offsetHeight))), r).setAttribute("src", e) : t.style.backgroundImage = "url(" + e + ")"
        }), r.setAttribute("src", e), t.setAttribute(s, !0)
    }

    function i(i) {
        var r;
        ((r = i) ? "function" == typeof r.forEach ? r : t(r) : "undefined" == typeof document ? [] : t(document.querySelectorAll(u))).forEach(function(t) {
            if (!t.getAttribute(s)) {
                var i, r, u, f, d = "img" === t.nodeName.toLowerCase() ? t.getAttribute("src") : (f = t).style.backgroundImage.replace(a, "$2"),
                    c = t.getAttribute("data-rjs"),
                    l = !isNaN(parseInt(c, 10));
                null !== c && (l ? function t(i, r) {
                    var a, u, s = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : 1,
                        f = (a = s, u = parseInt(a, 10), n < u ? n : u);
                    r && 1 < f && e(i, r.replace(o, "@" + f + "x$1"))
                }(t, d, c) : (i = t, u = c, 1 < n && e(i, u)))
            }
        })
    }
    var r = "undefined" != typeof window,
        n = Math.round(r && window.devicePixelRatio || 1),
        o = /(\.[A-z]{3,4}\/?(\?.*)?)$/,
        a = /url\(('|")?([^)'"]+)('|")?\)/i,
        u = "[data-rjs]",
        s = "data-rjs-processed";
    return r && (window.addEventListener("load", function() {
        i()
    }), window.retinajs = i), i
});